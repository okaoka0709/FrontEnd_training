(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52cbbc73"],{aafe:function(e,t,s){"use strict";s("bb23")},ba92:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("form",[e.hideSet?s("fieldset",[s("legend",[e._v("考題設定")]),s("div",[e.useSingleQuestionLength>0?s("div",{staticClass:"set-ui"},[s("label",[e._v(e._s(e.useSingleQuestionLength)+" 題單選")])]):e._e(),e.useMutipleQuestionLength>0?s("div",{staticClass:"set-ui"},[s("label",[e._v(e._s(e.useMutipleQuestionLength)+" 題複選")])]):e._e(),s("div",{staticClass:"set-ui"},[1==e.useCateList.length?s("label",[e._v(e._s(e.useCateList[0].subject))]):s("label",[e._v(e._s(e.useCateList.length)+" 個章節")])]),s("div",{staticClass:"set-ui"},[s("button",{on:{click:function(t){return e.setHide(!1)}}},[e._v("顯示設定")]),s("button",{staticClass:"primary",on:{click:e.makeTest}},[e._v("產生考題")])])])]):s("fieldset",[s("legend",[e._v("考題設定")]),s("div",{staticClass:"set-item"},[s("label",[e._v("單選")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.singleQuestionLength,expression:"singleQuestionLength"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.singleQuestionLength=t.target.multiple?s:s[0]}}},[s("option",{domProps:{value:0}},[e._v("無")]),e._l(10,(function(t){return s("option",{key:t,domProps:{value:t}},[e._v(e._s(t)+" 題")])}))],2)]),s("div",{staticClass:"set-item"},[s("label",[e._v("複選")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.mutipleQuestionLength,expression:"mutipleQuestionLength"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.mutipleQuestionLength=t.target.multiple?s:s[0]}}},[s("option",{domProps:{value:0}},[e._v("無")]),e._l(10,(function(t){return s("option",{key:t,domProps:{value:t}},[e._v(e._s(t)+" 題")])}))],2)]),s("div",{staticClass:"set-item"},[s("label",[e._v("章節")]),s("div",{staticClass:"set-select"},[e._l(e.cateObject,(function(t,i){return[s("span",{key:i,staticClass:"set-option"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.use,expression:"item.use"}],attrs:{type:"checkbox",id:"cate_"+i},domProps:{checked:Array.isArray(t.use)?e._i(t.use,null)>-1:t.use},on:{change:function(s){var i=t.use,n=s.target,a=!!n.checked;if(Array.isArray(i)){var l=null,r=e._i(i,l);n.checked?r<0&&e.$set(t,"use",i.concat([l])):r>-1&&e.$set(t,"use",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(t,"use",a)}}}),s("label",{attrs:{for:"cate_"+i}},[e._v(e._s(t.subject))])])]}))],2)]),s("div",{staticClass:"set-item"},[s("label",[e._v("功能")]),s("div",{staticClass:"set-select"},[s("button",{on:{click:function(t){return e.setCate(!0)}}},[e._v("章節全選")]),s("button",{on:{click:function(t){return e.setCate(!1)}}},[e._v("章節全不選")]),s("button",{on:{click:function(t){return e.setHide(!0)}}},[e._v("隱藏設定")]),s("button",{staticClass:"primary",on:{click:e.makeTest}},[e._v("產生考題")])])])]),s("fieldset",[s("legend",[e._v("考題內容")]),s("div",{staticClass:"question-section"},e._l(e.useTestList,(function(t){return s("div",{key:t.sn,staticClass:"question-article"},[s("div",{staticClass:"header"},[e.showAnswer&&t.test.find((function(e){return e.answer!==e.realAnswer}))?s("div",{staticClass:"answer is-false"},[e._v("Ｘ")]):e.showAnswer?s("div",{staticClass:"answer is-true"},[e._v("Ｏ")]):s("div",{staticClass:"type",class:"is-"+t.type},[e._v(e._s(e.typeTable[t.type]))]),s("div",{staticClass:"caption"},[e._v(e._s(t.subject))])]),e.showAnswer?s("div",{staticClass:"content"},e._l(t.test,(function(i,n){return s("div",{key:n,staticClass:"question"},[s("div",{staticClass:"item",class:[i.answer===i.realAnswer?"is-true":"is-false","is-"+t.type]},[s("input",{directives:[{name:"model",rawName:"v-model",value:i.answer,expression:"item.answer"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(i.answer)?e._i(i.answer,null)>-1:i.answer},on:{change:function(t){var s=i.answer,n=t.target,a=!!n.checked;if(Array.isArray(s)){var l=null,r=e._i(s,l);n.checked?r<0&&e.$set(i,"answer",s.concat([l])):r>-1&&e.$set(i,"answer",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(i,"answer",a)}}}),s("label",[e._v(e._s(i.question))])])])})),0):s("div",{staticClass:"content"},e._l(t.test,(function(i,n){return s("div",{key:n,staticClass:"question"},[s("div",{staticClass:"item",class:["is-"+t.type]},[s("input",{directives:[{name:"model",rawName:"v-model",value:i.answer,expression:"item.answer"}],attrs:{type:"checkbox",id:t.sn+"_"+n,name:t.sn+"_"+n},domProps:{checked:Array.isArray(i.answer)?e._i(i.answer,null)>-1:i.answer},on:{change:[function(t){var s=i.answer,n=t.target,a=!!n.checked;if(Array.isArray(s)){var l=null,r=e._i(s,l);n.checked?r<0&&e.$set(i,"answer",s.concat([l])):r>-1&&e.$set(i,"answer",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(i,"answer",a)},function(s){return e.changeAnswer(t.test,i,t.type)}]}}),s("label",{attrs:{for:t.sn+"_"+n}},[e._v(e._s(i.question))])])])})),0),e.showAnswer&&t.extend?s("div",{staticClass:"extend"},[e._v(e._s(t.extend))]):e._e()])})),0),s("div",{staticClass:"function-area"},[e.showAnswer?s("button",{on:{click:e.makeTest}},[e._v("產生考題")]):s("button",{staticClass:"primary",on:{click:function(t){e.showAnswer=!0}}},[e._v("對答案")])])])])])},n=[],a={data:function(){let e=5,t=5;return{cateTable:{1:"人事管理規則",2:"勞動基準法及施行細則",4:"工會法",5:"出入廠管理規則",6:"資材管理規則",7:"存量管制作業辦法",8:"設備保養管理規則",9:"工程管理規則",10:"營業管理準則",11:"外銷佣金匯付管理辦法",12:"外包承攬作業管理辦法",13:"固定資產管理辦法",14:"成本管理作業",15:"核決權限管理辦法",16:"職業安全衛生法",17:"製程安全管理辦法",18:"工作安全許可管理辦法",19:"環保監督管理辦法",20:"AI人工智慧基礎"},typeTable:{single:"單選",mutiple:"複選"},cateObject:{},singleQuestionLength:e,mutipleQuestionLength:t,useCateObject:{},useSingleQuestionLength:e,useMutipleQuestionLength:t,hideSet:!0,testList:[],useTestList:[],showAnswer:!1}},computed:{useCateList:function(){return this.getUseCateList(this.useCateObject)}},methods:{changeAnswer:function(e,t,s){"single"===s&&e.forEach(e=>{t!==e&&(e.answer=!1)})},copy:function(e){return JSON.parse(JSON.stringify(e))},getUseCateList:function(e){let t=[];for(let s in e){let i=e[s];i.use&&t.push(i)}return t},setHide:function(e){this.$set(this,"hideSet",e)},makeTest:function(){let e=this.singleQuestionLength,t=this.mutipleQuestionLength,s=this.cateObject,i=[];e+t===0&&i.push("請至少加入一個題目");let n=this.getUseCateList(s);if(0===n.length&&i.push("請至少勾選一個章節"),i.length)alert(i.join(",")+".");else{this.$set(this,"useSingleQuestionLength",e),this.$set(this,"useMutipleQuestionLength",t),this.$set(this,"useCateObject",JSON.parse(JSON.stringify(s))),this.$set(this,"showAnswer",!1),this.setHide(!0);let i=[];for(let e in s){let t=s[e];t.use&&i.push(parseFloat(e))}let n=this.copy(this.testList),a=n.filter(e=>i.includes(e.cate)),l=a.filter(e=>"single"===e.type),r=a.filter(e=>"mutiple"===e.type),c=[],u=(e,t)=>{e&&(e>t.length?c=c.concat(t):o(e,t))},o=(e,t)=>{for(let s=0;s<e;s++){let e=Math.floor(Math.random()*t.length),s=t[e];c.push(s),t.splice(e,1)}};u(e,l),u(t,r),this.$set(this,"useTestList",c)}},setCate:function(e){let t=this.cateObject;for(let s in t)t[s].use=e},initData:function(e){let t=[],s={},i=e=>e>1?"mutiple":"single";e.forEach(e=>{let n=e[1];s[n]||(s[n]={use:!0,subject:this.cateTable[n]}),t.push({sn:e[0],cate:n,subject:e[2],type:i(e[7]+e[8]+e[9]+e[10]),test:[{question:e[3],answer:!1,realAnswer:!!e[7]},{question:e[4],answer:!1,realAnswer:!!e[8]},{question:e[5],answer:!1,realAnswer:!!e[9]},{question:e[6],answer:!1,realAnswer:!!e[10]}],extend:e[11]})});let n=this.copy(s);this.$set(this,"testList",t),this.$set(this,"cateObject",s),this.$set(this,"useCateObject",n),this.makeTest()},getData:function(){let e="https://script.google.com/macros/s/AKfycbxcFzZrlxNxOR6B5nTwVRs3SZZthzpus8L_W1CHLmqP9j6gu_NIE34gVcWdOQCDBResJA/exec";return this.$http.get(e)},init:async function(){try{let e=await this.getData();this.initData(e.data)}catch(e){console.error(e)}}},created:function(){this.init()}},l=a,r=(s("aafe"),s("2877")),c=Object(r["a"])(l,i,n,!1,null,"ef92490c",null);t["default"]=c.exports},bb23:function(e,t,s){}}]);
//# sourceMappingURL=chunk-52cbbc73.329d1b87.js.map